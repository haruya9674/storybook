<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Kasa Jizo</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{font-family:system-ui;background:#f5f7fb;padding:20px;}
h2{color:#2e7d32;}
button{background:#4CAF50;color:white;border:none;padding:10px 16px;border-radius:6px;margin:8px 0;}
.story{background:white;border-left:6px solid #4CAF50;padding:16px;border-radius:8px;white-space:pre-line;}
.quiz{background:white;margin-top:20px;padding:16px;border-radius:8px;}
.score{font-weight:bold;margin-top:10px;}
</style>
</head>

<body onbeforeunload="stopVoice()">

<h2>üéç Kasa Jizo</h2>
<button onclick="speak()">üîä Listen story</button>

<div class="story" id="story">
Long ago, an old man and an old woman lived in a small village.

One snowy day, the old man went to town to sell hats.
But no one bought them.
On his way home, he saw six stone Jizo statues covered with snow.

The old man felt sorry for them.
He gave his hats to the statues to keep them warm.
For the last statue, he used his own scarf.

That night, the old man and woman heard strange sounds.
When they woke up, many gifts were in their house.

There was food, rice, and warm clothes.
The old couple was very happy.

Their kindness was rewarded.
</div>

<div class="quiz">
<h3>Quiz A ‚Äì Choose (5)</h3>

<p>1. Who gave hats to the statues?</p>
<input type="radio" name="q1" value="1">An old man<br>
<input type="radio" name="q1" value="0">A merchant<br>

<p>2. What kind of day was it?</p>
<input type="radio" name="q2" value="1">Snowy<br>
<input type="radio" name="q2" value="0">Sunny<br>

<p>3. What were the statues?</p>
<input type="radio" name="q3" value="1">Jizo statues<br>
<input type="radio" name="q3" value="0">Animal statues<br>

<p>4. What did the old man use for the last statue?</p>
<input type="radio" name="q4" value="1">His scarf<br>
<input type="radio" name="q4" value="0">His shoes<br>

<p>5. What happened at the end?</p>
<input type="radio" name="q5" value="1">They received gifts<br>
<input type="radio" name="q5" value="0">They lost their house<br>

<h3>Quiz B ‚Äì Write (5)</h3>
1. Why did the old man feel sorry for the statues?<br><input id="w1"><br>
2. What were the statues made of?<br><input id="w2"><br>
3. Why did he give them hats?<br><input id="w3"><br>
4. What came to their house at night?<br><input id="w4"><br>
5. What lesson do you learn from this story?<br><input id="w5"><br>

<button onclick="check()">Check Answer</button>
<div id="result"></div>
</div>

<br>
<a href="index.html" onclick="stopVoice()">‚¨Ö Back to Home</a>

<script>
function speak(){
 stopVoice();
 const u = new SpeechSynthesisUtterance(story.innerText);
 u.lang = "en-US";
 u.rate = 0.5;
 u.pitch = 1.2;
 speechSynthesis.speak(u);
}

function stopVoice(){
 speechSynthesis.cancel();
}

function check(){
 let score = 0;

 for(let i=1;i<=5;i++){
  const q = document.querySelector(`input[name="q${i}"]:checked`);
  if(q && q.value==="1") score++;
 }

 const keys = ["snow","stone","warm","gifts","kind"];
 keys.forEach((k,i)=>{
  if(document.getElementById("w"+(i+1)).value.toLowerCase().includes(k)) score++;
 });

 result.innerHTML = `<p class="score">Score: ${score} / 10</p>`;
}
</script>

</body>
</html>
